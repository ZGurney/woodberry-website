<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>{{ title or "Woodberry Down Community Building England" }}</title>
        <meta name="description" content="{{ description or 'Our programmes are dedicated to building a vibrant and integrated community life, engaging residents of all backgrounds and ages. Training and support opportunities are extended to youth and adults in the community who wish to contribute to community building and social transformation.' }}" />
        <link href="/styles.css" rel="stylesheet" />
    </head>
    <body class="bg-cream">
        <script>
            // Set active page styling based on current URL
            function setActivePage() {
                const currentPath = window.location.pathname;

                // Remove active classes from all nav links
                document.querySelectorAll("nav a").forEach(link => {
                    link.classList.remove("text-primary");
                    link.classList.add("text-gray-700");
                });

                // Add active class to current page link
                const activeLink = document.querySelector(`nav a[href="${currentPath}"]`) || (currentPath === "/" ? document.querySelector('nav a[href="/"]') : null);

                if (activeLink) {
                    activeLink.classList.remove("text-gray-700");
                    activeLink.classList.add("text-primary");
                }
            }

            // Initialize mobile menu functionality
            function initializeMobileMenu() {
                const mobileMenuButton = document.querySelector(".mobile-menu-button");
                const mobileMenu = document.querySelector(".mobile-menu");

                if (mobileMenuButton && mobileMenu) {
                    mobileMenuButton.addEventListener("click", function () {
                        mobileMenu.classList.toggle("hidden");
                    });
                }
            }

            // Initialize smooth scrolling for anchor links
            function initializeSmoothScrolling() {
                document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                    anchor.addEventListener("click", function (e) {
                        e.preventDefault();
                        const target = document.querySelector(this.getAttribute("href"));
                        if (target) {
                            target.scrollIntoView({
                                behavior: "smooth",
                                block: "start",
                            });
                        }
                    });
                });
            }

            // Initialize everything when DOM is ready
            document.addEventListener("DOMContentLoaded", function () {
                setActivePage();
                initializeMobileMenu();
                initializeSmoothScrolling();
            });
        </script>
        {% include "header.njk" %} {{ content | safe }} {% include "footer.njk" %}
    </body>
</html>
